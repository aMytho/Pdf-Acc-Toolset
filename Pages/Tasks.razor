@using Pdf_Acc_Toolset.Services;
@page "/tasks";

<h2 class="text-4xl font-bold">Tasks</h2>

<p>
    Below lists all of the tasks you have generated. Tasks will run in the order shown.
    You can also run a task individually. Tasks may be re-ordered if desired.
    If a task is no longer required, you can remove it from the queue.
    A completed task will not take effect until the file is saved!
</p>

<hr class="w-11/12 text-center m-4" />

<h3 class="text-xl">Task Queue</h3>

<p>Tasks will run from the top to the bottom.</p>
<div class="flex flex-col h-full">
    @foreach (AccessibilityTask task in tasks)
    {
        <div class="relative text-lg p-4 m-2 bg-slate-700 rounded-lg w-full flex justify-between border-r-2 border-r-green-400">
            <div>
                <h4 class="">
                    @task.Name
                </h4>

                <p>Completed: @task.TaskComplete</p>
            </div>

            <div class="">
                Custom Item INFO
            </div>

            <div class="bg-slate-600 rounded-md">
                <div class="flex h-full justify-items-center">
                    <span class="cursor-pointer self-center p-4 rounded-md hover:bg-green-950 text-green-600">Run</span>
                    <span class="cursor-pointer self-center p-4 rounded-md hover:bg-slate-500">Up</span>
                    <span class="cursor-pointer self-center p-4 rounded-md hover:bg-slate-500">Down</span>
                    <span class="cursor-pointer self-center p-4 rounded-md hover:bg-red-950 text-red-500">DELETE</span>
                </div>
            </div>
        </div>
    }
</div>

@if (tasks.Count == 0) {
    <p class="italic">No tasks have been assigned. Create some from the Tools page!</p>
}

<h3 class="text-xl">Task Controls</h3>

<button class="bg-orange-800 hover:bg-orange-700 p-4 m-2 rounded-lg cursor-pointer">Reset</button>
<button class="bg-cyan-800 hover:bg-cyan-700 p-4 m-2 rounded-lg cursor-pointer">Run All</button>
<button class="bg-cyan-800 hover:bg-cyan-700 p-4 m-2 rounded-lg cursor-pointer">Mark All Complete</button>
<button class="bg-cyan-800 hover:bg-cyan-700 p-4 m-2 rounded-lg cursor-pointer">Mark All Uncomplete</button>

@code {
	public List<AccessibilityTask> tasks = new();

	protected override void OnInitialized()
	{
		this.tasks = TaskManager.GetAccessibilityTasks();
		base.OnInitialized();
	}
}
